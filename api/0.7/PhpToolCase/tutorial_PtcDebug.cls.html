<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>PtcDebug User Guide</title>
	<link rel="stylesheet" type="text/css" href="../media/style.css">
	<meta http-equiv='Content-Type' content='text/html; charset=iso-8859-1'/>
</head>
<body>

<table border="0" cellspacing="0" cellpadding="0" height="48" width="100%">
  <tr>
	<td class="header-top-left"><!--<img src="../media/logo.png" border="0" alt="phpDocumentor " />-->&nbsp;</td>
    <td class="header-top-right">PhpToolCase<br /><div class="header-top-right-subpackage"></div></td>
  </tr>
  <tr><td colspan="2" class="header-line"><img src="../media/empty.png" width="1" height="1" border="0" alt=""  /></td></tr>
  <tr>
    <td colspan="2" class="header-menu">
      
                        
                      		[ <a href="../classtrees_PhpToolCase.html" class="menu">class tree: PhpToolCase</a> ]
		[ <a href="../elementindex_PhpToolCase.html" class="menu">index: PhpToolCase</a> ]
            [ <a href="../elementindex.html" class="menu">all elements</a> ]
    </td>
  </tr>
  <tr><td colspan="2" class="header-line"><img src="../media/empty.png" width="1" height="1" border="0" alt=""  /></td></tr>
</table>

<table width="100%" border="0" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="195" class="menu">
		<div class="package-title">PhpToolCase</div>
  <div class="package">
	<div id="ric">
					<p><a href="../ric_README.html">README</a></p>
					<p><a href="../ric_CHANGELOG.html">CHANGELOG</a></p>
					<p><a href="../ric_TODO.html">TODO</a></p>
			</div>
	</div>
      <b>Packages:</b><br />
  <div class="package">
              <a href="../li_PhpToolCase.html">PhpToolCase</a><br />
      	</div>
      <br />
		<b>Tutorials/Manuals:</b><br />
  <div class="package">
							<strong>Class-level:</strong>
							<ul>
	<li type="square"><a href="../PhpToolCase/tutorial_PtcDebug.cls.html">PtcDebug User Guide</a>
</ul>

							<ul>
	<li type="square"><a href="../PhpToolCase/tutorial_PtcDb.cls.html">PtcDb User Guide</a>
</ul>

							                       <!-- <b>Files:</b><br />
        <div class="package">
				<span style="padding-left: 1em;"><a href="../PhpToolCase/_PhpToolCase---current---PtcDb.php.html">PtcDb.php</a></span><br />
			<span style="padding-left: 1em;"><a href="../PhpToolCase/_PhpToolCase---current---PtcDebug.php.html">PtcDebug.php</a></span><br />
			<span style="padding-left: 1em;"><a href="../PhpToolCase/_PhpToolCase---current---PtcForms.php.html">PtcForms.php</a></span><br />
	  </div>
        // github problem with these links-->
            <br />
                  <b>Classes:</b><br />
        <div class="package">
		    		<a href="../PhpToolCase/PtcDb.html">PtcDb</a>    	 <br />
	    		<a href="../PhpToolCase/PtcDebug.html">PtcDebug</a>    	 <br />
	    		<a href="../PhpToolCase/PtcForms.html">PtcForms</a>    	 <br />
	  </div>
                </td>
    <td>
      <table cellpadding="10" cellspacing="0" width="100%" border="0"><tr><td valign="top">

<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<td width="10%" align="left" valign="bottom">Prev</td>
<td width="80%" align="center" valign="bottom"></td>
<td width="10%" align="right" valign="bottom"><a href=
"../PhpToolCase/tutorial_PtcDb.cls.html">Next</a></td>
</tr>
</table>
<div><a name=""></a><div class="ref-title-box"><h1 class="ref-title">PtcDebug User Guide</h1>
		<h2 class="ref-purpose">DEBUGGER AND LOGGER - VERSION 0.7</h2></div>
	<h1 align="center">Table of Contents</h1>
<ul>

<a href="../PhpToolCase/tutorial_PtcDebug.cls.html#intro">Introduction</a><br />

<a href="../PhpToolCase/tutorial_PtcDebug.cls.html#debugLoader">Getting Started</a><br />

<a href="../PhpToolCase/tutorial_PtcDebug.cls.html#_defaultOptions">Class Options</a><br />

&nbsp;&nbsp;&nbsp;<a href="../PhpToolCase/tutorial_PtcDebug.cls.html#_defaultOptions.url_key">url_key</a><br />

&nbsp;&nbsp;&nbsp;<a href="../PhpToolCase/tutorial_PtcDebug.cls.html#_defaultOptions.url_pass">url_pass</a><br />

&nbsp;&nbsp;&nbsp;<a href="../PhpToolCase/tutorial_PtcDebug.cls.html#_defaultOptions.replace_error_handler">replace_error_handler</a><br />

&nbsp;&nbsp;&nbsp;<a href="../PhpToolCase/tutorial_PtcDebug.cls.html#_defaultOptions.check_referer">check_referer</a><br />

&nbsp;&nbsp;&nbsp;<a href="../PhpToolCase/tutorial_PtcDebug.cls.html#_defaultOptions.die_on_error">die_on_error</a><br />

&nbsp;&nbsp;&nbsp;<a href="../PhpToolCase/tutorial_PtcDebug.cls.html#_defaultOptions.debug_console">debug_console</a><br />

&nbsp;&nbsp;&nbsp;<a href="../PhpToolCase/tutorial_PtcDebug.cls.html#_defaultOptions.allowed_ips">allowed_ips</a><br />

&nbsp;&nbsp;&nbsp;<a href="../PhpToolCase/tutorial_PtcDebug.cls.html#_defaultOptions.session_start">session_start</a><br />

&nbsp;&nbsp;&nbsp;<a href="../PhpToolCase/tutorial_PtcDebug.cls.html#_defaultOptions.show_interface">show_interface</a><br />

<a href="../PhpToolCase/tutorial_PtcDebug.cls.html#bufferLog">Logging Messages</a><br />

&nbsp;&nbsp;&nbsp;<a href="../PhpToolCase/tutorial_PtcDebug.cls.html#bufferLog.buffer_msgs">Simple Message</a><br />

&nbsp;&nbsp;&nbsp;<a href="../PhpToolCase/tutorial_PtcDebug.cls.html#bufferLog.buffer_function">Debugging Functions</a><br />

&nbsp;&nbsp;&nbsp;<a href="../PhpToolCase/tutorial_PtcDebug.cls.html#bufferLog.buffer_class">Debugging Classes</a><br />

<a href="../PhpToolCase/tutorial_PtcDebug.cls.html#bufferSql">Logging Sql Queries</a><br />

<a href="../PhpToolCase/tutorial_PtcDebug.cls.html#stopTimer">Execution Timing</a><br />

&nbsp;&nbsp;&nbsp;<a href="../PhpToolCase/tutorial_PtcDebug.cls.html#stopTimer.timing_sql_query">Sql Query</a><br />

&nbsp;&nbsp;&nbsp;<a href="../PhpToolCase/tutorial_PtcDebug.cls.html#stopTimer.timing_sql_query">Loops</a><br />

&nbsp;&nbsp;&nbsp;<a href="../PhpToolCase/tutorial_PtcDebug.cls.html#stopTimer.timing_sql_query">Script execution(in seconds)</a><br />

<a href="../PhpToolCase/tutorial_PtcDebug.cls.html#setErrorHandler">Replace Error Handler</a><br />

<a href="../PhpToolCase/tutorial_PtcDebug.cls.html#setup_examples">Typical Setup Examples</a><br />

&nbsp;&nbsp;&nbsp;<a href="../PhpToolCase/tutorial_PtcDebug.cls.html#setup_examples.develop_setup">Setup For Development</a><br />

&nbsp;&nbsp;&nbsp;<a href="../PhpToolCase/tutorial_PtcDebug.cls.html#setup_examples.develop_setup">Production Environment</a><br />

&nbsp;&nbsp;&nbsp;<a href="../PhpToolCase/tutorial_PtcDebug.cls.html#setup_examples.ajaxDebug_setup">Ajax Debugging(Chrome only)</a><br />
</ul>

	<span><a name="intro"></a><h2 class="title">Introduction</h2><p>The goal of this class is to ease the process of debugging php scripts. The class uses a floating panel at the top right of the page. There are also a couple of features that can fix security issues with the php default error handler.All class properties and methods are static because it's required to let them work on script shutdown when FATAL error occurs.</p>
		<p>Main Features:
			<ul><li>Show globals vars ($GLOBALS, $_POST, $_GET, $_COOKIE ...)</li>
				<li>Show php version and loaded extensions</li>
				<li>Replace php built in error handler</li>
				<li>Log sql queries</li>
				<li>Monitor execution time</li>
				<li>Dump of all types of variable</li>
				<li>Send messges to js console(Chrome only),for ajax scripts</li></ul></p></span>
	<span><a name="debugLoader"></a><h2 class="title">Getting Started</h2><p>The class works right out of the box by calling the method debugLoader().
			<ol><li><div class="src-line"><span class="src-inc">require_once</span><span class="src-sym">(</span><span class="src-str">'PtcDebug.php'</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><span class="src-var">$_GET</span><span class="src-sym">[</span><span class="src-str">'debug'</span><span class="src-sym">]</span>=<span class="src-id">true</span><span class="src-sym">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="src-comm">#&nbsp;turn&nbsp;on&nbsp;the&nbsp;debug</span></div></li>
<li><div class="src-line"><span class="src-comm">//$_GET['debugOff']=true;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;turn&nbsp;off&nbsp;debug</span></div></li>
<li><div class="src-line"><span class="src-id"><a href="../PhpToolCase/PtcDebug.html">PtcDebug</a></span><span class="src-sym">::</span><a href="../PhpToolCase/PtcDebug.html#methoddebugLoader">debugLoader</a><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
</ol></p></span>
	<span><a name="_defaultOptions"></a><h2 class="title">Class Options</h2><p>The following example passes options to the class on load:
			<ol><li><div class="src-line"><span class="src-var">$debug_options</span>=<span class="src-key">array</span></div></li>
<li><div class="src-line"><span class="src-sym">(</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'url_key'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>=&gt;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'debug'</span><span class="src-sym">,</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'url_pass'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>=&gt;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'true'</span><span class="src-sym">,</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'replace_error_handler'&nbsp;&nbsp;&nbsp;&nbsp;</span>=&gt;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-id">true</span><span class="src-sym">,</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'check_referer'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>=&gt;&nbsp;&nbsp;&nbsp;<span class="src-id">false</span><span class="src-sym">,</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'die_on_error'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>=&gt;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-id">true</span><span class="src-sym">,</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'debug_console'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>=&gt;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-id">false</span><span class="src-sym">,</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'allowed_ips'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>=&gt;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-id">null</span><span class="src-sym">,</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'session_start'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>=&gt;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-id">false</span><span class="src-sym">,</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'show_interface'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>=&gt;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-id">true</span></div></li>
<li><div class="src-line"><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><span class="src-id"><a href="../PhpToolCase/PtcDebug.html">PtcDebug</a></span><span class="src-sym">::</span><a href="../PhpToolCase/PtcDebug.html#methoddebugLoader">debugLoader</a><span class="src-sym">(</span><span class="src-var">$debug_options</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
</ol></p>
		<a name="_defaultOptions.url_key"></a><h3 class="title">url_key</h3><p>To show the interface we use a <strong>&quot;$_GET&quot;</strong> paramater in the url, the default key is <strong>&quot;debug&quot;</strong> and should be changed to something else!</p><hr />
		<a name="_defaultOptions.url_pass"></a><h3 class="title">url_pass</h3><p>This is the value to pass in the url, the default value is <strong>&quot;true&quot;</strong> and should be changed to something else.See <a href="../PhpToolCase/tutorial_PtcDebug.cls.html#_defaultOptions.url_key">url_key</a>.</p><hr />
		<a name="_defaultOptions.replace_error_handler"></a><h3 class="title">replace_error_handler</h3><p>Set this options to true to replace the default php error handler and php will send errors to the debug panel.It is recommended to leave it set to true.</p><hr />
		<a name="_defaultOptions.check_referer"></a><h3 class="title">check_referer</h3><p>This option,if set to true,will check for the key and pass with the referer if any.This is quite usefull to debug ajax scripts with the <a href="../PhpToolCase/tutorial_PtcDebug.cls.html#_defaultOptions.show_interface">show_interface</a> option set to &quot;false&quot;,and the <a href="../PhpToolCase/tutorial_PtcDebug.cls.html#_defaultOptions.debug_console">debug_console</a> set to &quot;true&quot;.For more information on this setup see <a href="../PhpToolCase/tutorial_PtcDebug.cls.html#setup_examples.ajaxDebug_setup">Ajax Debugging(Chrome only)</a></p><hr />
		<a name="_defaultOptions.die_on_error"></a><h3 class="title">die_on_error</h3><p>Set this option to false to continue if fatal error occurs,keep in mind that this will only work with <a href="../PhpToolCase/tutorial_PtcDebug.cls.html#_defaultOptions.replace_error_handler">replace_error_handler</a> set to &quot;true&quot;</p><hr />
		<a name="_defaultOptions.debug_console"></a><h3 class="title">debug_console</h3><p>Only for Chrome,with phpConsole class installed.This feature is usefull to to debug ajax scripts.For more information and detailed usage,see <a href="../PhpToolCase/tutorial_PtcDebug.cls.html#setup_examples.ajaxDebug_setup">Ajax Debugging(Chrome only)</a></p><hr />
		<a name="_defaultOptions.allowed_ips"></a><h3 class="title">allowed_ips</h3><p>To restrict access use this option to pass an ip or an array of ip's,and only the allowed ip's will be able to turn on/off the debug interface.IT is advised to use this option under production environment.</p><hr />
		<a name="_defaultOptions.session_start"></a><h3 class="title">session_start</h3><p>For persistent debugging,set this option to true,and the class will try to store the key and pass in $_SESSION var.You will need to use <strong>&quot;url_key&quot;+Off</strong> to hide the interface.While this is a good option to navigate an application,it will not work if the class is not initialized at very start of the application. see session_start() function for more information.</p><hr />
		<a name="_defaultOptions.show_interface"></a><h3 class="title">show_interface</h3><p>This option, if set to &quot;true&quot;,does not show the floating panel. It is usefull to send messages to console only. See <a href="../PhpToolCase/tutorial_PtcDebug.cls.html#_defaultOptions.debug_console">debug_console</a> and <a href="../PhpToolCase/tutorial_PtcDebug.cls.html#setup_examples.ajaxDebug_setup">Ajax Debugging(Chrome only)</a></p><hr /></span>
	<span><a name="bufferLog"></a><h2 class="title">Logging Messages</h2><p>To log messages is quite simple, use the bufferLog() method</p>
		<a name="bufferLog.buffer_msgs"></a><h3 class="title">Simple Message</h3><p><ol><li><div class="src-line"><span class="src-var">$var</span>=<span class="src-key">array</span><span class="src-sym">(</span><span class="src-str">&quot;a&quot;</span><span class="src-sym">,</span><span class="src-str">&quot;b&quot;</span><span class="src-sym">,</span><span class="src-str">&quot;c&quot;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><span class="src-id"><a href="../PhpToolCase/PtcDebug.html">PtcDebug</a></span><span class="src-sym">::</span><a href="../PhpToolCase/PtcDebug.html#methodbufferLog">bufferLog</a><span class="src-sym">(</span><span class="src-var">$var</span><span class="src-sym">)</span><span class="src-sym">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="src-comm">#&nbsp;send&nbsp;an&nbsp;array&nbsp;to&nbsp;the&nbsp;buffer</span></div></li>
<li><div class="src-line"><span class="src-id"><a href="../PhpToolCase/PtcDebug.html">PtcDebug</a></span><span class="src-sym">::</span><a href="../PhpToolCase/PtcDebug.html#methodbufferLog">bufferLog</a><span class="src-sym">(</span><span class="src-var">$var</span><span class="src-sym">,</span><span class="src-str">&quot;this&nbsp;is&nbsp;some&nbsp;array&quot;</span><span class="src-sym">)</span><span class="src-sym">;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="src-comm">#&nbsp;send&nbsp;message&nbsp;with&nbsp;a&nbsp;statement</span></div></li>
</ol></p><hr />
		<a name="bufferLog.buffer_function"></a><h3 class="title">Debugging Functions</h3><p><ol><li><div class="src-line"><span class="src-comm">#&nbsp;Adding&nbsp;__FUNCTION__&nbsp;is&nbsp;optional,&nbsp;but&nbsp;can&nbsp;be&nbsp;more&nbsp;precise.</span></div></li>
<li><div class="src-line"><span class="src-key">function&nbsp;</span><span class="src-id">test_debug</span><span class="src-sym">(</span><span class="src-sym">)</span></div></li>
<li><div class="src-line"><span class="src-sym">{</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;do&nbsp;something</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-id"><a href="../PhpToolCase/PtcDebug.html">PtcDebug</a></span><span class="src-sym">::</span><a href="../PhpToolCase/PtcDebug.html#methodbufferLog">bufferLog</a><span class="src-sym">(</span><span class="src-str">&quot;function&nbsp;executed&quot;</span><span class="src-sym">,</span><span class="src-str">&quot;&quot;</span><span class="src-sym">,</span>__FUNCTION__<span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><span class="src-sym">}</span></div></li>
</ol></p><hr />
		<a name="bufferLog.buffer_class"></a><h3 class="title">Debugging Classes</h3><p><ol><li><div class="src-line"><span class="src-comm">#&nbsp;Adding&nbsp;__FUNCTION__&nbsp;&amp;&nbsp;__CLASS__&nbsp;is&nbsp;optional,&nbsp;but&nbsp;can&nbsp;be&nbsp;more&nbsp;precise.</span></div></li>
<li><div class="src-line"><span class="src-key">class&nbsp;</span><span class="src-id">testDummy</span><span class="src-sym">(</span><span class="src-sym">)</span></div></li>
<li><div class="src-line"><span class="src-sym">{</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">public&nbsp;</span><span class="src-key">function&nbsp;</span><span class="src-id">foo</span><span class="src-sym">(</span><span class="src-sym">)</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">{</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;do&nbsp;something</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-id"><a href="../PhpToolCase/PtcDebug.html">PtcDebug</a></span><span class="src-sym">::</span><a href="../PhpToolCase/PtcDebug.html#methodbufferLog">bufferLog</a><span class="src-sym">(</span><span class="src-str">&quot;method&nbsp;executed&quot;</span><span class="src-sym">,</span><span class="src-str">&quot;&quot;</span><span class="src-sym">,</span>__FUNCTION__<span class="src-sym">,</span>__CLASS__<span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">}</span></div></li>
<li><div class="src-line"><span class="src-sym">}</span></div></li>
</ol></p><hr /></span>
	<span><a name="bufferSql"></a><h2 class="title">Logging Sql Queries</h2><p>To log sql queries is just like logging messages, but this time we will be using the bufferSql() method
			<ol><li><div class="src-line"><span class="src-var">$sql</span>=<span class="src-str">&quot;SELECT&nbsp;*&nbsp;FROM&nbsp;some_table&quot;</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><span class="src-id"><a href="../PhpToolCase/PtcDebug.html">PtcDebug</a></span><span class="src-sym">::</span><a href="../PhpToolCase/PtcDebug.html#methodbufferSql">bufferSql</a><span class="src-sym">(</span><span class="src-var">$sql</span><span class="src-sym">)</span><span class="src-sym">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="src-comm">#&nbsp;send&nbsp;a&nbsp;sql&nbsp;query&nbsp;to&nbsp;buffer</span></div></li>
<li><div class="src-line"><span class="src-var">$result</span>=<a href="http://www.php.net/mysql_query">mysql_query</a><span class="src-sym">(</span><span class="src-var">$sql</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><span class="src-id"><a href="../PhpToolCase/PtcDebug.html">PtcDebug</a></span><span class="src-sym">::</span><a href="../PhpToolCase/PtcDebug.html#methodstopTimer">stopTimer</a><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="src-comm">#&nbsp;show&nbsp;execution&nbsp;time&nbsp;for&nbsp;this&nbsp;query</span></div></li>
</ol>
			For more information about stopTimer() view <a href="../PhpToolCase/tutorial_PtcDebug.cls.html#stopTimer">Execution Timing</a></p></span>
	<span><a name="stopTimer"></a><h2 class="title">Execution Timing</h2><p>To check how long things take to execute you can use the stopTimer() method.</p>
		<a name="stopTimer.timing_sql_query"></a><h3 class="title">Sql Query</h3><p><ol><li><div class="src-line"><span class="src-var">$sql</span>=<span class="src-str">&quot;SELECT&nbsp;*&nbsp;FROM&nbsp;some_table&quot;</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><span class="src-id"><a href="../PhpToolCase/PtcDebug.html">PtcDebug</a></span><span class="src-sym">::</span><a href="../PhpToolCase/PtcDebug.html#methodbufferSql">bufferSql</a><span class="src-sym">(</span><span class="src-var">$sql</span><span class="src-sym">)</span><span class="src-sym">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="src-comm">#&nbsp;send&nbsp;a&nbsp;sql&nbsp;query&nbsp;to&nbsp;buffer</span></div></li>
<li><div class="src-line"><span class="src-var">$result</span>=<a href="http://www.php.net/mysql_query">mysql_query</a><span class="src-sym">(</span><span class="src-var">$sql</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><span class="src-id"><a href="../PhpToolCase/PtcDebug.html">PtcDebug</a></span><span class="src-sym">::</span><a href="../PhpToolCase/PtcDebug.html#methodstopTimer">stopTimer</a><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="src-comm">#&nbsp;show&nbsp;execution&nbsp;time&nbsp;for&nbsp;this&nbsp;query</span></div></li>
</ol></p><hr />
		<a name="stopTimer.timing_sql_query"></a><h3 class="title">Loops</h3><p><ol><li><div class="src-line"><span class="src-id"><a href="../PhpToolCase/PtcDebug.html">PtcDebug</a></span><span class="src-sym">::</span><a href="../PhpToolCase/PtcDebug.html#methodbufferLog">bufferLog</a><span class="src-sym">(</span><span class="src-str">&quot;Loop&nbsp;execution&nbsp;time&quot;</span><span class="src-sym">)</span><span class="src-sym">;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="src-comm">#&nbsp;send&nbsp;a&nbsp;message&nbsp;to&nbsp;the&nbsp;buffer</span></div></li>
<li><div class="src-line"><span class="src-key">for</span><span class="src-sym">(</span><span class="src-var">$i</span>=<span class="src-num">0</span><span class="src-sym">;</span><span class="src-var">$i</span>&lt;<span class="src-num">5000</span><span class="src-sym">;</span><span class="src-var">$i</span>++<span class="src-sym">)</span></div></li>
<li><div class="src-line"><span class="src-sym">{</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//do&nbsp;something</span></div></li>
<li><div class="src-line"><span class="src-sym">}</span></div></li>
<li><div class="src-line"><span class="src-id"><a href="../PhpToolCase/PtcDebug.html">PtcDebug</a></span><span class="src-sym">::</span><a href="../PhpToolCase/PtcDebug.html#methodstopTimer">stopTimer</a><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="src-comm">#&nbsp;chain&nbsp;execution&nbsp;time&nbsp;to&nbsp;previous&nbsp;message</span></div></li>
</ol></p><hr />
		<a name="stopTimer.timing_sql_query"></a><h3 class="title">Script execution(in seconds)</h3><p><ol><li><div class="src-line"><span class="src-id"><a href="../PhpToolCase/PtcDebug.html">PtcDebug</a></span><span class="src-sym">::</span><a href="../PhpToolCase/PtcDebug.html#methodbufferLog">bufferLog</a><span class="src-sym">(</span><span class="src-str">&quot;script&nbsp;execution&nbsp;time&quot;</span><span class="src-sym">)</span><span class="src-sym">;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="src-comm">#&nbsp;send&nbsp;a&nbsp;message&nbsp;to&nbsp;the&nbsp;buffer</span></div></li>
<li><div class="src-line"><span class="src-comm">//do&nbsp;something</span></div></li>
<li><div class="src-line"><span class="src-comm">#&nbsp;chain&nbsp;execution&nbsp;time&nbsp;to&nbsp;previous&nbsp;message,&nbsp;param&nbsp;0&nbsp;is&nbsp;to&nbsp;use&nbsp;seconds</span></div></li>
<li><div class="src-line"><span class="src-id"><a href="../PhpToolCase/PtcDebug.html">PtcDebug</a></span><span class="src-sym">::</span><a href="../PhpToolCase/PtcDebug.html#methodstopTimer">stopTimer</a><span class="src-sym">(</span><span class="src-num">0</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
</ol></p><hr /></span>
	<span><a name="setErrorHandler"></a><h2 class="title">Replace Error Handler</h2><p>The method setErrorHandler() is used to force the replacement of the built in php error handler even if the debug panel is not shown(see <a href="../PhpToolCase/tutorial_PtcDebug.cls.html#_defaultOptions.replace_error_handler">replace_error_handler</a>).This is usefull for production environment, for the simple reason that if an error occurs the user will not see information about the error.This method could also be used with the parameter set to <strong>&quot;false&quot;</strong>,so that if fatal error occurs script execution will still continue.Keep in mind that if you expect the script to die on error,the parameter should be left set to <strong>&quot;true&quot;</strong>(see <a href="../PhpToolCase/tutorial_PtcDebug.cls.html#_defaultOptions.die_on_error">die_on_error</a>).
			<ol><li><div class="src-line"><span class="src-inc">require_once</span><span class="src-sym">(</span><span class="src-str">'PtcDebug.php'</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><span class="src-comm">#&nbsp;replace&nbsp;php&nbsp;built&nbsp;in&nbsp;error&nbsp;handler</span></div></li>
<li><div class="src-line"><span class="src-id"><a href="../PhpToolCase/PtcDebug.html">PtcDebug</a></span><span class="src-sym">::</span><a href="../PhpToolCase/PtcDebug.html#methodsetErrorHandler">setErrorHandler</a><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><span class="src-comm">#&nbsp;replace&nbsp;php&nbsp;built&nbsp;in&nbsp;error&nbsp;handler&nbsp;and&nbsp;continue&nbsp;execution&nbsp;if&nbsp;fatal&nbsp;error&nbsp;occurs</span></div></li>
<li><div class="src-line"><span class="src-id"><a href="../PhpToolCase/PtcDebug.html">PtcDebug</a></span><span class="src-sym">::</span><a href="../PhpToolCase/PtcDebug.html#methodsetErrorHandler">setErrorHandler</a><span class="src-sym">(</span><span class="src-id">false</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
</ol></p></span>
	<span><a name="setup_examples"></a><h2 class="title">Typical Setup Examples</h2><a name="setup_examples.develop_setup"></a><h3 class="title">Setup For Development</h3><p>This example,demostrates how to configure and load the interface under testing environment:
				<ol><li><div class="src-line"><span class="src-inc">require_once</span><span class="src-sym">(</span><span class="src-str">'PtcDebug.php'</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><span class="src-var">$_GET</span><span class="src-sym">[</span><span class="src-str">'debug'</span><span class="src-sym">]</span>=<span class="src-id">true</span><span class="src-sym">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="src-comm">#&nbsp;turn&nbsp;on&nbsp;the&nbsp;debug</span></div></li>
<li><div class="src-line"><span class="src-comm">//$_GET['debugOff']=true;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;turn&nbsp;off&nbsp;debug</span></div></li>
<li><div class="src-line"><span class="src-var">$debug_options</span>=<span class="src-key">array</span></div></li>
<li><div class="src-line"><span class="src-sym">(</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'session_start'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>=&gt;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-id">true</span><span class="src-sym">,</span></div></li>
<li><div class="src-line"><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><span class="src-id"><a href="../PhpToolCase/PtcDebug.html">PtcDebug</a></span><span class="src-sym">::</span><a href="../PhpToolCase/PtcDebug.html#methoddebugLoader">debugLoader</a><span class="src-sym">(</span><span class="src-var">$debug_options</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
</ol></p><hr />
		<a name="setup_examples.develop_setup"></a><h3 class="title">Production Environment</h3><p>This example,demostrates how to configure and load the interface under production environment:
				<ol><li><div class="src-line"><span class="src-inc">require_once</span><span class="src-sym">(</span><span class="src-str">'PtcDebug.php'</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><span class="src-comm">#&nbsp;replace&nbsp;php&nbsp;built&nbsp;in&nbsp;error&nbsp;handler&nbsp;and&nbsp;continue&nbsp;execution&nbsp;if&nbsp;fatal&nbsp;error&nbsp;occurs</span></div></li>
<li><div class="src-line"><span class="src-id"><a href="../PhpToolCase/PtcDebug.html">PtcDebug</a></span><span class="src-sym">::</span><a href="../PhpToolCase/PtcDebug.html#methodsetErrorHandler">setErrorHandler</a><span class="src-sym">(</span><span class="src-id">false</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><span class="src-var">$debug_options</span>=<span class="src-key">array</span></div></li>
<li><div class="src-line"><span class="src-sym">(</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'url_key'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>=&gt;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'someKey'</span><span class="src-sym">,</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'url_pass'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>=&gt;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'somePass'</span><span class="src-sym">,</span><span class="src-comm">#&nbsp;use&nbsp;a&nbsp;complicated&nbsp;string!</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'replace_error_handler'&nbsp;&nbsp;&nbsp;&nbsp;</span>=&gt;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-id">false</span><span class="src-sym">,&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="src-comm">#&nbsp;has&nbsp;been&nbsp;replaced&nbsp;already</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'allowed_ips'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>=&gt;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">array</span><span class="src-sym">(</span><span class="src-num">1.2.3.4</span><span class="src-sym">,</span><span class="src-num">2.3.4.5</span><span class="src-sym">)</span><span class="src-sym">,</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'show_interface'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>=&gt;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-id">true</span></div></li>
<li><div class="src-line"><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><span class="src-id"><a href="../PhpToolCase/PtcDebug.html">PtcDebug</a></span><span class="src-sym">::</span><a href="../PhpToolCase/PtcDebug.html#methoddebugLoader">debugLoader</a><span class="src-sym">(</span><span class="src-var">$debug_options</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
</ol></p><hr />
		<a name="setup_examples.ajaxDebug_setup"></a><h3 class="title">Ajax Debugging(Chrome only)</h3><p>This example,demostrates how to configure and show the buffer messages in the Chrome browser console.Particularly usefull to debug ajax
				scripts. Keep in mind that this setup needs phpConsole class and the Chorome extension installed to work. Make sure you have downloaded the <a href="https://github.com/ifsale/PhpToolCase/tree/master/PhpConsole">phpConsole class</a> from the repository, and install the <a href="https://chrome.google.com/webstore/detail/nfhmhhlpfleoednkpnnnkolmclajemef">Chrome browser extension</a> before starting to use this class to send messages to the console.
				<ol><li><div class="src-line"><span class="src-inc">require_once</span><span class="src-sym">(</span><span class="src-str">'PtcDebug.php'</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><span class="src-var">$debug_options</span>=<span class="src-key">array</span></div></li>
<li><div class="src-line"><span class="src-sym">(</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'replace_error_handler'&nbsp;&nbsp;&nbsp;&nbsp;</span>=&gt;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-id">true</span><span class="src-sym">,</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'die_on_error'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>=&gt;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-id">false</span><span class="src-sym">,</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'debug_console'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>=&gt;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-id">true</span><span class="src-sym">,</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'check_referer'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>=&gt;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-id">true</span><span class="src-sym">,&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="src-comm">#&nbsp;check&nbsp;if&nbsp;referer&nbsp;has&nbsp;key&nbsp;and&nbsp;pass.</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'show_interface'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>=&gt;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-id">false&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="src-comm">#&nbsp;don't&nbsp;show&nbsp;interface,&nbsp;only&nbsp;console</span></div></li>
<li><div class="src-line"><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><span class="src-id"><a href="../PhpToolCase/PtcDebug.html">PtcDebug</a></span><span class="src-sym">::</span><a href="../PhpToolCase/PtcDebug.html#methoddebugLoader">debugLoader</a><span class="src-sym">(</span><span class="src-var">$debug_options</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
</ol></p><hr /></span></div>
<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<td width="33%" align="left" valign="top">Prev</td>
<td width="34%" align="center" valign="top">&nbsp;</td>
<td width="33%" align="right" valign="top"><a href=
"../PhpToolCase/tutorial_PtcDb.cls.html">Next</a></td>
</tr>

<tr>
<td width="33%" align="left" valign="top"></td>
<td width="34%" align="center" valign="top"></td>
<td width="33%" align="right" valign="top">PtcDb User Guide</td>
</tr>
</table>
        <div class="credit">
		    <hr class="separator" />
		    Documentation generated on Sun, 27 Jan 2013 18:45:02 +0100 by <a href="http://www.phpdoc.org">phpDocumentor 1.4.3</a>
	      </div>
      </td></tr></table>
    </td>
  </tr>
</table>

</body>
</html>